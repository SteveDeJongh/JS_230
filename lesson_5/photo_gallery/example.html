<!DOCTYPE html>
<html lang="en-US">
  <head>
    <title>Fluid Layout Gallery</title>
    <meta charset="UTF-8" />
    <link rel="stylesheet" href="gallery.css" />
    <script>
      document.addEventListener('DOMContentLoaded', e => {
        let mainImage = document.querySelector('figure img');
        let mainCaption = document.querySelector('figure figcaption');
        let thumbnails = document.querySelectorAll('li img');
        let fade = document.querySelector('figure div');

        function clearPicked() {
          thumbnails.forEach(x => x.classList.remove('picked'));
        }

        thumbnails.forEach(thumb => thumb.addEventListener('click', event => {
          clearPicked();
          fade.classList.add('fade-out-image');
          setTimeout(() => {
            fade.classList.remove('fade-out-image');
            fade.classList.add('fade-in-image');
            mainImage.setAttribute('src', event.target.src);
            mainCaption.textContent = event.target.title;
          }, 500)
          event.target.classList.add('picked');
        }));
      })
    </script>
  </head>
  <body>
    <main>
      <h1>My Photo Gallery</h1>
      <figure>
        <div class="">
          <img src="https://via.placeholder.com/1200x900" alt="" />
        </div>
        <figcaption>Photo 1</figcaption>
      </figure>
      <ul>
        <li><img class="picked" src="https://via.placeholder.com/1200x900" alt="" title="Photo 1" /></li>
        <li><img class="" src="https://via.placeholder.com/1200x900/fff/333" alt="" title="Photo 2" /></li>
        <li><img class="" src="https://via.placeholder.com/1200x900/66cc33/f0f0f0" alt="" title="Photo 3" /></li>
        <li><img class="" src="https://via.placeholder.com/1200x900/993535/aaa" alt="" title="Photo 4" /></li>
      </ul>
    </main>
  </body>
</html>
